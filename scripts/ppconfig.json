{"name":"ecddbedbcbdac","url":"https://player.esnad.dpdns.org/player/","showName":"OTV","appid":"com.OTV.app","icon":"","iconPath":"C:\\Users\\yang\\AppData\\Roaming\\com.pakeplus.pacbao\\0dfunsvpuujm.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.2","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"(function() {\n    /**\n     * 1. 拦截新窗口跳转 (解决 target=\"_blank\" 失效问题)\n     */\n    const hookClick = (e) => {\n        const origin = e.target.closest('a');\n        const isBaseTargetBlank = document.querySelector('head base[target=\"_blank\"]');\n        \n        if (origin && origin.href) {\n            // 如果链接设置了新窗口打开，或者 head 设置了全局新窗口\n            if (origin.target === '_blank' || isBaseTargetBlank) {\n                e.preventDefault();\n                console.log('拦截新窗口，当前页跳转:', origin.href);\n                location.href = origin.href;\n            }\n        }\n    };\n    document.addEventListener('click', hookClick, { capture: true });\n\n    /**\n     * 2. 拦截 JS 弹窗 (window.open)\n     */\n    window.open = function (url) {\n        if (url) {\n            console.log('拦截 window.open:', url);\n            location.href = url;\n        }\n        return null; // window.open 通常返回新窗口引用，这里返回 null 防止后续报错\n    };\n\n    /**\n     * 3. 保护登录状态 (防止被网页脚本恶意清空)\n     */\n    const originalClear = window.localStorage.clear;\n    window.localStorage.clear = function() {\n        console.warn(\"阻止了 LocalStorage.clear()，保护登录状态\");\n    };\n\n    /**\n     * 4. 视频全屏功能适配\n     */\n    const initVideoFeatures = () => {\n        // 点击原生全屏按钮修复\n        document.addEventListener('click', (e) => {\n            const target = e.target;\n            const isFsBtn = target.closest('[class*=\"fullscreen\"], [class*=\"player-full\"], [aria-label*=\"全屏\"]');\n            if (isFsBtn) {\n                const videoWrap = target.closest('div, section, .video-container') || document.querySelector('video');\n                if (videoWrap && !document.fullscreenElement) {\n                    videoWrap.requestFullscreen().catch(() => {\n                        const v = document.querySelector('video');\n                        if (v) v.requestFullscreen();\n                    });\n                }\n            }\n        }, true);\n\n        // 双击视频区域全屏 (备用方案)\n        document.addEventListener('dblclick', (e) => {\n            if (e.target.tagName === 'VIDEO') {\n                if (!document.fullscreenElement) {\n                    e.target.requestFullscreen();\n                } else {\n                    document.exitFullscreen();\n                }\n            }\n        });\n    };\n\n    // 启动初始化\n    if (document.readyState === 'complete') {\n        initVideoFeatures();\n    } else {\n        window.addEventListener('load', initVideoFeatures);\n    }\n})();","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.5","iosRepo":"PakePlus-iOS-v2.1.5","androidRepo":"PakePlus-Android-v2.1.5","more":{"windows":{"label":"","title":"OTV","url":"https://player.esnad.dpdns.org/player/","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":true,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":true,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"Mozilla/5.0 (Macintoshh; Intel Mac OS X 101_15_7) AppleWebKit/537.36 (KHTML, ulike Gecko) Chrome/130.0.0.9 Safari/517.36","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"ecddbedbcbdac","showName":"OTV","version":"0.0.2","webUrl":"https://player.esnad.dpdns.org/player/","id":"com.OTV.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"android":{"name":"ecddbedbcbdac","showName":"OTV","version":"0.0.2","webUrl":"https://player.esnad.dpdns.org/player/","id":"com.OTV.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"desktop":{"name":"ecddbedbcbdac","showName":"OTV","version":"0.0.2","id":"com.OTV.app.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"https://player.esnad.dpdns.org/player/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}